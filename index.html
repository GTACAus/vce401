<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GTAC VCE401 Student Logbook</title>
<link href="https://fonts.googleapis.com/css2?family=Figtree:wght@400;700&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Figtree', sans-serif;
        text-align: center;
        margin: 20px;
      }

      .sidebar {
        position: fixed;
        top: 40px;
        right: 10px;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .sidebar button {
        padding: 10px;
        cursor: pointer;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        font-family: inherit;
      }
      .container {
        max-width: 800px;
        margin: 20px;
      }
      .investigation {
        margin-bottom: 50px;
      }
      .image-container {
        justify-content: center;
        align-items: center;
        max-width: 90%;
        height: auto;
        margin-top: 20px;
      }
      textarea {
        width: 100%;
        height: 100px;
        margin-top: 20px;
        font-family: inherit;
      }
      .custom-upload-btn {
  display: inline-block;
  background: #007bff;
  color: white;
  padding: 10px 18px;
  border-radius: 5px;
  cursor: pointer;
  font-family: inherit;
  font-size: 1em;
  margin-bottom: 10px;
  transition: background 0.2s;
}
.custom-upload-btn:hover {
  background: #0056b3;
}
.custom-upload-btn input[type="file"] {
  display: none;
}
table .image-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 140px;
  min-width: 140px;
  height: 140px;
  width: 140px;
  margin: 0 auto;
  box-sizing: border-box;
}
table .image-container img {
  max-width: 120px;
  max-height: 120px;
  width: auto;
  height: auto;
  display: block;
  margin: 0 auto;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  object-fit: contain;
}

.punnett-table, .punnett-table th, .punnett-table td {
  border: 1px solid black;
  border-collapse: collapse;
}
.punnett-table th, .punnett-table td {
  padding: 8px;
  text-align: center;
  background: #fff;
}
.punnett-table th.no-border {
  border-top: none !important;
  border-left: none !important;
  background: #fff;
}
.punnett-table th[contenteditable="true"],
.punnett-table td[contenteditable="true"] {
  background-color: #eaf7ff;
}
.punnett-table th:not(.no-border) {
  background-color: #f2f2f2;
}
      
    </style>
  </head>

  <body>
    <div class="sidebar">
      
      <br /><br /><br />
      <img
        src="https://gtac.edu.au/wp-content/themes/gtac/assets/images/logo-2024.png"
        id="logoImage"
        style="width: 40%; opacity: 0.5"
      />
      <button onclick="scrollToSection('exp1')">Investigation 1</button>
      <button onclick="scrollToSection('exp2')">Investigation 2</button>
      <button onclick="scrollToSection('exp3')">Note-taking</button>
      <button onclick="printPageAsPDF()">Save as PDF</button>
    </div>

    <div class="container">
      <h1 style="text-align: center">
        VCE401 Investigating Immunity <br> Student Logbook </br>
      </h1>

      <h3>Enter Your Names:</h3>
      <textarea id="experiment1" placeholder="Type your names here"></textarea>

<img src="VCE401 Outline.png" alt="Description of image" style="max-width:100%; height:auto;">

      <div id="exp1" class="experiment active">
        <h2 style="color: #4C34E5">Investigation 1: Providing cattle with immunity against tetanus</h2>
        
        
<b>Learning intention 1: We will model the process of acquiring active immunity to extracellular pathogens through vaccination. </b>
<br>
<p style="text-align: left; font-weight: normal; margin-left: 2em;">
Success criteria: </p>
<ul style="text-align: left; font-weight: normal; margin-left: 1em;">
<li>I can describe the steps in the adaptive immune response to tetanus toxin.</li>
<li>I can compare the primary and secondary immune response to tetanus antigen. </li>
<li>I can identify evidence of acquired active immunity to tetanus. </li></ul>
       <div style="margin-top: 20px;">
      <h3 style="color: #00BC74">Part A: Modelling Adaptive Immunity</h3>
  
<img src="Primary Immune Response.png" alt="Description of image" style="max-width:100%; height:auto;">

  <h3 style="color: #ff6d3a">Upload image of your immune response model:</h3>
  <p> Use the model to show the key players and their role in the immune response.  </p>
 <br>
   
   
      <label class="custom-upload-btn">
        Upload image of your Secondary Immune Response model here
        <input type="file" accept="image/*" onchange="addUploadedImage(event, 'imageContainer1')" style="display:none;" />
      </label>
      <div id="imageContainer1" class="image-container"></div>
   

<h3 style="color: #00BC74">Part B: Modelling the immune response to vaccination  </h3>
      <h3 style="text-align: center; font-weight: normal;">Summarise the primary and secondary immune response</h3>
      <h4 style="text-align: left; font-weight: bold; margin-left: 1em;">A. Explain why the cow dies despite starting to produce antibodies to the tetanus toxin.</h4>
      <textarea id="experiment2" placeholder="Type your response here"></textarea>
      <h4 style="text-align: left; font-weight: bold; margin-left: 1em;">B. Explain why the calf could still die from tetanus after one vaccination.
</h4>
      <textarea id="experiment3" placeholder="Type your response here"></textarea>
      <h4 style="text-align: left; font-weight: bold; margin-left: 1em;">C. Compare and contrast the primary and secondary immune response.</h4>
      <textarea id="experiment4" placeholder="Type your response here"></textarea>

<h3 style="color: #00BC74">Part C: Measuring antibody titres with an ELISA </h3>

<!-- Editable antibody prediction table -->
<table class="punnett-table" style="margin: 30px auto; min-width: 600px;">
  <tr>
    <th>Week</th>
    <th>Vaccination</th>
    <th>Blood sample taken</th>
    <th style="color: #ff6d3a;">Predict the expected level of antibody towards tetanus toxin<br><span style="font-weight: normal;">None / Low / High</span></th>
  </tr>
  <tr>
    <td>0</td>
    <td>First vaccination</td>
    <td>Sample 1</td>
    <td contenteditable="true" style="background-color: #fffbe6; color: #ff6d3a; font-weight: bold; outline: none;"></td>
  </tr>
  <tr>
    <td>1</td>
    <td>No</td>
    <td>Sample 2</td>
    <td contenteditable="true" style="background-color: #fffbe6; color: #ff6d3a; font-weight: bold; outline: none;"></td>
  </tr>
  <tr>
    <td>6</td>
    <td>Booster vaccination</td>
    <td>No blood sample taken</td>
    <td style="color: #888;">Not applicable</td>
  </tr>
  <tr>
    <td>9</td>
    <td>No</td>
    <td>Sample 3</td>
    <td contenteditable="true" style="background-color: #fffbe6; color: #ff6d3a; font-weight: bold; outline: none;"></td>
  </tr>
</table>

<h2>Enzyme-Linked Immunosorbent Assay (ELISA)</h2>
<b>Learning intention 2: I am learning to use an ELISA experiment to identify if cattle have acquired active immunity to tetanus through vaccination. </b>

<p style="text-align: left; font-weight: normal; margin-left: 2em;">Success criteria:
<ul style="text-align: left; font-weight: normal; margin-left: 1em;">
  <li>I can construct a flowchart to demonstrate how an ELISA is used to measure antibody levels in the blood</li>
<li>I can use a model to compare the primary and secondary immune response to tetanus antigen </li>
<li>I can analyse my model to identify what to look for as evidence that an animal has acquired active immunity to tetanus </li></ul>
</p>
<h3 style="text-align: center; font-weight: bold;">Take a photo of your completed ELISA model</h3>
      <label class="custom-upload-btn">
        Upload images of your ELISA model at each of the three stages here
        <input type="file" accept="image/*" onchange="addUploadedImage(event, 'imageContainer2')" style="display:none;" />
      </label>
      <div id="imageContainer2" class="image-container"></div>

<h3>ELISA Results</h3>
      <label class="custom-upload-btn">
        Upload image of your assay here (wells)
        <input type="file" accept="image/*" onchange="addUploadedImage(event, 'imageContainer3')" style="display:none;" />
      </label>
      <div id="imageContainer3" class="image-container"></div>

      <h3> Complete the following results table: </h3>
      
      <table class="punnett-table" style="margin: 30px auto; width: 98%; max-width: 1200px; min-width: 900px;">
  <tr style="background-color: #bcd0e6;">
    <th rowspan="2" style="width: 15%;">Time (Weeks)</th>
    <th rowspan="2" style="width: 25%;">Results from ELISA</th>
    <th colspan="3" style="width: 60%;">Calf</th>
  </tr>
  <tr style="background-color: #bcd0e6;">
    <th style="width: 20%;">1</th>
    <th style="width: 20%;">2</th>
    <th style="width: 20%;">3</th>
  </tr>
  <tr>
    <td rowspan="2">0<br><span style="font-weight:normal; font-size:0.9em;">(Unvaccinated)</span></td>
    <td><span style="color:rgb(0, 0, 0);"><u>Colour</u></span> (-/+/++)</td>
    <td contenteditable="true" style="background:#f6faff;"></td>
    <td contenteditable="true" style="background:#f6faff;"></td>
    <td contenteditable="true" style="background:#f6faff;"></td>
  </tr>
  <tr>
    <td><span style="color:rgb(0, 0, 0);"><u>Antibody titre</u></span> (U/mL)</td>
    <td contenteditable="true" style="background:#f6faff;"></td>
    <td contenteditable="true" style="background:#f6faff;"></td>
    <td contenteditable="true" style="background:#f6faff;"></td>
  </tr>
  <tr>
    <td rowspan="2">1<br><span style="font-weight:normal; font-size:0.9em;">(1 week after first vaccine)</span></td>
    <td><span style="color:rgb(0, 0, 0);"><u>Colour</u></span> (-/+/++)</td>
    <td contenteditable="true" style="background:#f6faff;"></td>
    <td contenteditable="true" style="background:#f6faff;"></td>
    <td contenteditable="true" style="background:#f6faff;"></td>
  </tr>
  <tr>
    <td><span style="color:rgb(0, 0, 0);"><u>Antibody titre</u></span> (U/mL)</td>
    <td contenteditable="true" style="background:#f6faff;"></td>
    <td contenteditable="true" style="background:#f6faff;"></td>
    <td contenteditable="true" style="background:#f6faff;"></td>
  </tr>
  <tr>
    <td rowspan="2">9<br><span style="font-weight:normal; font-size:0.9em;">(3 weeks after second vaccination)</span></td>
    <td><span style="color:rgb(0, 0, 0);"><u>Colour</u></span> (-/+/++)</td>
    <td contenteditable="true" style="background:#f6faff;"></td>
    <td contenteditable="true" style="background:#f6faff;"></td>
    <td contenteditable="true" style="background:#f6faff;"></td>
  </tr>
  <tr>
    <td><span style="color:rgb(0, 0, 0);"><u>Antibody titre</u></span> (U/mL)</td>
    <td contenteditable="true" style="background:#f6faff;"></td>
    <td contenteditable="true" style="background:#f6faff;"></td>
    <td contenteditable="true" style="background:#f6faff;"></td>
  </tr>
  <tr style="background:#ffffff;">
    <td colspan="2" style="font-weight:bold;">Recommendation:<br><span style="font-weight:normal;">Protected / Booster required / First and second vaccination required</span></td>
    <td contenteditable="true" style="background:#cdd6ff;"></td>
    <td contenteditable="true" style="background:#cdd6ff;"></td>
    <td contenteditable="true" style="background:#cdd6ff;"></td>
  </tr>
  <tr style="background:#ffffff;">
    <td colspan="2" style="font-weight:bold;">Justification for recommendation</td>
    <td contenteditable="true" style="background:#cdd6ff;"></td>
    <td contenteditable="true" style="background:#cdd6ff;"></td>
    <td contenteditable="true" style="background:#cdd6ff;"></td>
  </tr>
</table>
<h3>Conclusion: </h3>
      <h3 style="text-align: left; font-weight: normal;margin-left: 1em;"> Based on the results, provide a recommendation to the farmer regarding the protection of the cows against tetanus and any follow-ups that are required.</h3>
      <textarea id="experiment5" placeholder="Type your response here"></textarea>

      

      <div id="exp2" class="experiment">
        <h2 style="color: #4C34E5">Investigation 2: Treating an outbreak of mastitis in dairy cattle</h2>
      
      <p style="text-align: left; font-weight: bold; margin-left: 1em;">Learning Intention: We will develop a treatment plan for a disease outbreak based on collated evidence.</b>
       <li style="text-align: left; font-weight: normal; margin-left: 2em;">Success Criteria: I can use results to propose a treatment plan to eradicate an outbreak of disease in cattle.</li> </ul>


        <h3 style="color: #00BC74">Part A: Identifying the bacteria infecting the cows</h3>

        <p> Identify the bacteria infecting these cows out of the following:</p>

          <ul style="text-align: left; font-weight: normal; margin-left: 8em;font-style: italic;">
          <li>Pseudomonas aeruginosa</li>
          <li>Staphylococcus aureus</li>
          <li>Staphylococcus epidermidis</li> 
          <li>Streptococcus  agalactiae</li> 
          <li>Streptococcus  uberis</li> 
          <li>Brucella melitensis</li> 
          <li>Corynebacterium bovis</li> 
          <li>Staphylococcus aureus</li>  </ul>
      
          
         <h3 style="color: #ff6d3a">Results: Annotated dichotomous key</h3>

         <!-- Add this where you want the dropdowns and table to appear -->
<div id="test-section" style="margin: 2em 0;">
  <label>
    Test 1:
    <select id="shape-select" onchange="showShapeImage()">
      <option value="">Select...</option>
      <option>Bacilli</option>
      <option>Cocci</option>
      <option>Spirilla</option>
    </select>
  </label>
  <div id="shape-image-container" style="margin: 1em 0;"></div>
  <br>
  <label>
    Test 2:
    <select id="test1-select" onchange="showGramImage()">
      <option value="">Select...</option>
      <option>Gram negative</option>
      <option>Gram positive</option>
    </select>
  </label>

  <div id="gram-image-container" style="margin: 1em 0;"></div>
  <br>
  <label>
    Test 3:
    <select id="test2-select" onchange="showTest2Table()">
      <option value="">Select...</option>
      <option>Catalase test</option>
      <option>Growth in air</option>
    </select>
  </label>
<div id="test2-table-container"></div>
  <br>
  <label>
    Test 4:
    <select id="test3-select" onchange="showTestTable()">
      <option value="">Select...</option>
      <option>Beta-Haemolysis test</option>
      <option>Coagulase test</option>
      <option>Growth on MAC</option>
      <option>Oxidase test</option>
      <option>Spore Test</option>
    </select>
  </label>
  <div id="test-table-container" style="margin: 1em 0;"></div>
  <br>
  <label>
    Test 5:
    <select id="test4-select">
      <option value="">Select...</option>
      <option>Beta-Haemolysis test</option>
      <option>Blood test</option>
      <option>Growth on MAC test</option>
      <option>Motility test</option>
      <option>Oxidase Test</option>
      <option>Urea test</option>
    </select>
  </label>
  <br><br>
</div>

<script>
function showShapeImage() {
  const val = document.getElementById('shape-select').value;
  const container = document.getElementById('shape-image-container');
  if (val === "Bacilli") {
    container.innerHTML = `<img src="bacilli.png" alt="Bacilli" style="max-width:200px;">`;
  } else if (val === "Cocci") {
    container.innerHTML = `<img src="cocci.png" alt="Cocci" style="max-width:200px;">`;
  } else if (val === "Spirilla") {
    container.innerHTML = `<img src="spirilla.png" alt="Spirilla" style="max-width:200px;">`;
  } else {
    container.innerHTML = "";
  }
}
function showGramImage() {
  const val = document.getElementById('test1-select').value;
  const container = document.getElementById('gram-image-container');
  if (val === "Gram negative") {
    container.innerHTML = `<img src="gram-ve.png" alt="Gram Negative" style="max-width:200px;">`;
  } else if (val === "Gram positive") {
    container.innerHTML = `<img src="gram+ve.png" alt="Gram Positive" style="max-width:200px;">`;
  } else {
    container.innerHTML = "";
  }
}
function showTestTable() {
  const val = document.getElementById('test3-select').value;
  const container = document.getElementById('test-table-container');

  let tableHTML = "";

  if (val === "Beta-Haemolysis test") {
    tableHTML = `
      <h3 style="text-align:left;">Beta-Haemolysis Test</h3>
      <table style="width:100%; min-width:400px; max-width:600px; margin: 0 auto;">
        <tr style="background:#7eaadc; color:#222;">
          <th></th>
          <th>Positive<br>control</th>
          <th>Negative<br>control</th>
          <th>Test<br><span style="font-weight:normal;">(Disease-causing bacteria)</span></th>
        </tr>
        <tr>
          <td style="background:#e6f0fa; font-weight:bold;">Transparent zone around colonies<br><span style="font-weight:normal;">(Yes/No)</span></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
        </tr>
      </table>
    `;
  }

  else if (val === "Coagulase test") {

    tableHTML = `
      <h3 style="text-align:left;">Coagulase Test</h3>
      <table style="width:100%; min-width:400px; max-width:600px; margin: 0 auto;">
        <tr style="background:#7eaadc; color:#222;">
          <th></th>
          <th>Positive<br>control</th>
          <th>Negative<br>control</th>
          <th>Test<br><span style="font-weight:normal;">(Disease-causing bacteria)</span></th>
        </tr>
        <tr>
          <td style="background:#e6f0fa; font-weight:bold;">Coagulation<br><span style="font-weight:normal;">(Yes/No)</span></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
        </tr>
      </table>
    `;
  }

  else if (val === "Growth on MAC") {

    tableHTML = `
      <h3 style="text-align:left;">Growth on MAC Test</h3>
      <table style="width:100%; min-width:400px; max-width:600px; margin: 0 auto;">
        <tr style="background:#7eaadc; color:#222;">
          <th></th>
          <th>Positive<br>control</th>
          <th>Negative<br>control</th>
          <th>Test<br><span style="font-weight:normal;">(Disease-causing bacteria)</span></th>
        </tr>
        <tr>
          <td style="background:#e6f0fa; font-weight:bold;">Grows on MAC agar<br><span style="font-weight:normal;">(Yes/No)</span></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
        </tr>
      </table>
    `;
  }

  else if (val === "Oxidase test") {

    tableHTML = `
      <h3 style="text-align:left;">Oxidase Test</h3>
      <table style="width:100%; min-width:400px; max-width:600px; margin: 0 auto;">
        <tr style="background:#7eaadc; color:#222;">
          <th></th>
          <th>Positive<br>control</th>
          <th>Negative<br>control</th>
          <th>Test<br><span style="font-weight:normal;">(Disease-causing bacteria)</span></th>
        </tr>
        <tr>
          <td style="background:#e6f0fa; font-weight:bold;">Purple/blue color change<br><span style="font-weight:normal;">(Yes/No)</span></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
        </tr>
      </table>
    `;
  }

  else if (val === "Spore Test") {

    tableHTML = `
      <h3 style="text-align:left;">Spore Test</h3>
      <table style="width:100%; min-width:400px; max-width:600px; margin: 0 auto;">
        <tr style="background:#7eaadc; color:#222;">
          <th></th>
          <th>Positive<br>control</th>
          <th>Negative<br>control</th>
          <th>Test<br><span style="font-weight:normal;">(Disease-causing bacteria)</span></th>
        </tr>
        <tr>
          <td style="background:#e6f0fa; font-weight:bold;">Endospores visible after special staining<br><span style="font-weight:normal;">(Yes/No)</span></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
        </tr>
      </table>
    `;
  }

  container.innerHTML = tableHTML;
}
function showTest2Table() {
  const val = document.getElementById('test2-select').value;
  const container = document.getElementById('test2-table-container');

  let tableHTML = "";

  if (val === "Catalase test") {
        tableHTML = `
      <h3 style="text-align:left;">Catalase Test</h3>
      <table style="width:100%; min-width:400px; max-width:600px; margin: 0 auto;">
        <tr style="background:#7eaadc; color:#222;">
          <th></th>
          <th>Positive<br>control</th>
          <th>Negative<br>control</th>
          <th>Test<br><span style="font-weight:normal;">(Disease-causing bacteria)</span></th>
        </tr>
        <tr>
          <td style="background:#e6f0fa; font-weight:bold;">Bubbles present<br><span style="font-weight:normal;">(Yes/No)</span></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
        </tr>
      </table>
    `;
  }

  else if (val === "Growth in air") {
        tableHTML = `
      <h3 style="text-align:left;">Growth in air Test</h3>
      <table style="width:100%; min-width:400px; max-width:600px; margin: 0 auto;">
        <tr style="background:#7eaadc; color:#222;">
          <th></th>
          <th>Positive<br>control</th>
          <th>Negative<br>control</th>
          <th>Test<br><span style="font-weight:normal;">(Disease-causing bacteria)</span></th>
        </tr>
        <tr>
          <td style="background:#e6f0fa; font-weight:bold;">Visible growth<br><span style="font-weight:normal;">(Yes/No)</span></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
          <td contenteditable="true" style="background:#f6faff;"></td>
        </tr>
      </table>
    `;
  }

  container.innerHTML = tableHTML;
}
</script>

<p style="text-align: left; font-weight: bold;"> Type the name of the disease-causing bacteria below:</p>
<textarea id="experiment6" 
          placeholder="Type OR Copy and paste the name of the bacteria from the list here"></textarea> 

        <h3 style="color: #00BC74">
          Part B: Identifying an effective antibiotic
        </h3>

        <table style="align: center; border-collapse: collapse; min-width: 350px; font-family: inherit, sans-serif;">
  <tr style="background: #d6f5e6;">
    <th style="border: 2px solid #24704b; padding: 8px;">&nbsp;</th>
    <th style="border: 2px solid #24704b; padding: 8px;">Antibiotic</th>
    <th style="border: 2px solid #24704b; padding: 8px;">Growth?</th>
  </tr>
  <tr style="background: #fcfaed;">
    <td style="border: 2px solid #24704b; padding: 8px; text-align: center;">
      <span style="display:inline-block; border-radius:50%; border:1.5px solid #bbb; width:28px; height:28px; line-height:28px; font-weight:bold;">P</span>
    </td>
    <td style="border: 2px solid #24704b; padding: 8px; font-weight: bold;">Penicillin</td>
    <td style="border: 2px solid #24704b; padding: 8px;" contenteditable="true"></td>
  </tr>
  <tr style="background: #fcfaed;">
    <td style="border: 2px solid #24704b; padding: 8px; text-align: center;">
      <span style="display:inline-block; border-radius:50%; border:1.5px solid #bbb; width:28px; height:28px; line-height:28px; font-weight:bold;">TE</span>
    </td>
    <td style="border: 2px solid #24704b; padding: 8px; font-weight: bold;">Tetracycline</td>
    <td style="border: 2px solid #24704b; padding: 8px;" contenteditable="true"></td>
  </tr>
  <tr style="background: #fcfaed;">
    <td style="border: 2px solid #24704b; padding: 8px; text-align: center;">
      <span style="display:inline-block; border-radius:50%; border:1.5px solid #bbb; width:28px; height:28px; line-height:28px; font-weight:bold;">C</span>
    </td>
    <td style="border: 2px solid #24704b; padding: 8px; font-weight: bold;">Cloxacillin</td>
    <td style="border: 2px solid #24704b; padding: 8px;" contenteditable="true"></td>
  </tr>
  <tr style="background: #fcfaed;">
    <td style="border: 2px solid #24704b; padding: 8px; text-align: center;">
      <span style="display:inline-block; border-radius:50%; border:1.5px solid #bbb; width:28px; height:28px; line-height:28px; font-weight:bold;">ST</span>
    </td>
    <td style="border: 2px solid #24704b; padding: 8px; font-weight: bold;">Sulfatriad</td>
    <td style="border: 2px solid #24704b; padding: 8px;" contenteditable="true"></td>
  </tr>
</table>

<p style="text-align: left; font-weight: bold;"> Select the antibiotic that can be used to treat mastitis:  </p>
<textarea id="experiment7" 
          placeholder="Type the name of the antibiotic you will use to treat mastitis"></textarea> 
      <h3 style="color: #00BC74"> Part C: Determining the bacteriostatic dose </h3>

      
<h3 style="color: #ff6d3a"> Results: Spectrophotometer readings:</h3>
  <p> Take a picture of the table of absorbance values on your computer.  </p>
   
      <label class="custom-upload-btn">
        Upload image of the data here
        <input type="file" accept="image/*" onchange="addUploadedImage(event, 'imageContainer4')" style="display:none;" />
      </label>
      <div id="imageContainer4" class="image-container"></div>
   

       <p> Graph showing the effect of Cloxacillin on S. epidermidis.  </p>
   
      <label class="custom-upload-btn">
        Upload image of data here
        <input type="file" accept="image/*" onchange="addUploadedImage(event, 'imageContainer5')" style="display:none;" />
      </label>
      <div id="imageContainer5" class="image-container"></div>

<p style="text-align: left; font-weight: bold;">1.  Define what it means to provide a 'bacteriostatic dose' vs. a 'bactericidal dose'.
  <br> 2. Can you identify the bacteriostatic and bactericidal doses for your results? </br>
</p>
<textarea id="experiment8"
          placeholder="A bacteriostatic dose is... Whereas a bactericidal dose is..."></textarea> 

<p style="text-align: left; font-weight: bold;"> 3. Using your results, which dose would you choose and why? 
  <br> 4. Why is it important to get the correct dosage?
</p>
<textarea id="experiment9"
          placeholder="A bacteriostatic dose is... Whereas a bactericidal dose is..."></textarea> 


      <h3 style="color: #00BC74"> Part D: Determining the bactericidal dose</h3>
   <p style="text-align: center; font-weight: bold;"> Bactericidal testing and analysis </p>

      <label class="custom-upload-btn">
        Upload image of growth plates here
        <input type="file" accept="image/*" onchange="addUploadedImage(event, 'imageContainer6')" style="display:none;" />
      </label>
      <div id="imageContainer6" class="image-container"></div>
       <p> Use the space below to interpret the growth plates: </p>
      <textarea
          id="experiment8"
          placeholder="Type your response here"></textarea>
  
        <div id="exp3" class="experiment">
          <h2 style="color: #4C34E5">Note-taking</h2>
         <p> Use the space below to type any additional notes: </p>
         
      
        <textarea id="experiment10"
          placeholder="Type your notes here"
        ></textarea>

        </div>
      </div>
    </div>

    <script>
      const TWELVE_HOURS = 12 * 60 * 60 * 1000;
      // ------------------------------------------------------------------------
      // Scroll to Section Function
      // ------------------------------------------------------------------------
      function scrollToSection(sectionId) {
        document
          .getElementById(sectionId)
          .scrollIntoView({ behavior: "smooth" });
      }

      const DB_NAME = "imageStore";
      const DB_VERSION = 1;
      const IMAGE_EXPIRY = 12 * 60 * 60 * 1000; // 12 hours in milliseconds

      // Open IndexedDB
      function openDB() {
        return new Promise((resolve, reject) => {
          const request = indexedDB.open(DB_NAME, DB_VERSION);
          request.onupgradeneeded = function (event) {
            const db = event.target.result;
            if (!db.objectStoreNames.contains("images")) {
              db.createObjectStore("images", { keyPath: "id" });
            }
          };
          request.onsuccess = function (event) {
            resolve(event.target.result);
          };
          request.onerror = function (event) {
            reject("Error opening database:", event.target.error);
          };
        });
      }

      // Save Image to IndexedDB
      function saveImageToDB(containerId, imageData) {
        openDB().then((db) => {
          const transaction = db.transaction("images", "readwrite");
          const store = transaction.objectStore("images");

          // Generate a unique key for each image
          const uniqueId = containerId + "_" + Date.now();

          const imageEntry = {
            id: uniqueId, // Unique key
            containerId: containerId,
            image: imageData,
            timestamp: Date.now(),
          };

          store.put(imageEntry);
        });
      }

      // Retrieve and Restore Images from IndexedDB
      function restoreImagesFromDB() {
        openDB().then((db) => {
          const transaction = db.transaction("images", "readonly");
          const store = transaction.objectStore("images");
          const request = store.getAll();

          request.onsuccess = function () {
            const images = request.result;
            const currentTime = Date.now();

            images.forEach((imageEntry) => {
              // Check if within expiry
              if (currentTime - imageEntry.timestamp <= IMAGE_EXPIRY) {
                // Display each image in the correct container
                displayImage(imageEntry.image, imageEntry.containerId);
              } else {
                // Remove expired images
                removeImageFromDB(imageEntry.id);
              }
            });
          };
        });
      }

      // Remove Image from IndexedDB
      function removeImageFromDB(containerId) {
        openDB().then((db) => {
          const transaction = db.transaction("images", "readwrite");
          const store = transaction.objectStore("images");
          store.delete(containerId);
        });
      }

      // Function to Display Image in its Container
      function displayImage(imageData, containerId) {
        const container = document.getElementById(containerId);
        if (container) {
          // Only clear if it is NOT container 3
          if (containerId !== "imageContainer2") {
            container.innerHTML = "";
          }

          const image = document.createElement("img");
          image.src = imageData;
          image.style.maxWidth = "100%";
          container.appendChild(image);
        }
      }

      // Modified Upload Image Function to Store in IndexedDB
      function addUploadedImage(event, containerId) {
        const file = event.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            const imageData = e.target.result;
            saveImageToDB(containerId, imageData); // Save each image with a unique ID
            displayImage(imageData, containerId); // Append the image in the UI
          };
          reader.readAsDataURL(file);
        }
      }

      // Restore Images on Page Load
      document.addEventListener("DOMContentLoaded", function () {
        restoreImagesFromDB();
      });

      // ------------------------------------------------------------------------
      // Print Page as PDF
      // ------------------------------------------------------------------------
      function printPageAsPDF() {
        window.print();
      }

      // ------------------------------------------------------------------------
      // Save and Restore (Session and Local Storage)
      // ------------------------------------------------------------------------
      document.addEventListener("DOMContentLoaded", function () {
        // Restore text areas from Session Storage on page load
        document.querySelectorAll("textarea").forEach((textarea) => {
          const savedText = sessionStorage.getItem(textarea.id);
          if (savedText !== null) {
            textarea.value = savedText;
          }
          // Save changes to both Session Storage and Local Storage
          textarea.addEventListener("input", () => {
            sessionStorage.setItem(textarea.id, textarea.value);
            // Local Storage now includes a timestamp
            const dataToStore = {
              value: textarea.value,
              timestamp: Date.now(),
            };
            localStorage.setItem(textarea.id, JSON.stringify(dataToStore));
          });
        });

        // Restore editable table cells from Session Storage on page load
        const editableCells = document.querySelectorAll(
          "td[contenteditable=true]"
        );
        editableCells.forEach((cell, index) => {
          const savedCellText = sessionStorage.getItem(`cell-${index}`);
          if (savedCellText !== null) {
            cell.innerText = savedCellText;
          }
          // Save changes to both Session Storage and Local Storage
          cell.addEventListener("input", () => {
            sessionStorage.setItem(`cell-${index}`, cell.innerText);
            // Save to Local Storage with timestamp
            const dataToStore = {
              value: cell.innerText,
              timestamp: Date.now(),
            };
            localStorage.setItem(`cell-${index}`, JSON.stringify(dataToStore));
          });
        });

        // Restore the uploaded image from Session Storage if desired (not strictly required, but included here)
        const uploadedImage = document.getElementById("uploadedImage");
        if (uploadedImage) {
          const savedImageData = sessionStorage.getItem("uploadedImage");
          if (savedImageData) {
            uploadedImage.src = savedImageData;
            uploadedImage.style.display = "block";
          }
        }
      });

      // ------------------------------------------------------------------------
      // Triple Click Detection for Logo
      // ------------------------------------------------------------------------
      let clickCount = 0;
      let firstClickTime = 0;

      document
        .getElementById("logoImage")
        .addEventListener("click", detectTripleClick);

      function detectTripleClick() {
        const currentTime = new Date().getTime();

        // If no clicks yet, initialize
        if (clickCount === 0) {
          clickCount = 1;
          firstClickTime = currentTime;
        } else {
          // If current time is still within 1 second of the first click
          if (currentTime - firstClickTime <= 1000) {
            clickCount++;
            // If we reach 3 clicks within 1 second, prompt for password
            if (clickCount === 3) {
              promptForPassword();
              // Reset click counter and time
              clickCount = 0;
              firstClickTime = 0;
            }
          } else {
            // More than 1 second has passed since the first click,
            // so reset and start over
            clickCount = 1;
            firstClickTime = currentTime;
          }
        }
      }

      // ------------------------------------------------------------------------
      // Prompt for Password
      // ------------------------------------------------------------------------
      function promptForPassword() {
        const userPassword = prompt("Please enter the password:");
        if (userPassword === "Abc") {
          showOverlay();
        }
      }

      function showOverlay() {
        document.getElementById("passwordOverlay").style.display = "flex";
      }

      function closeOverlay() {
        document.getElementById("passwordOverlay").style.display = "none";
      }

      function restoreLocalStorageData() {
        // Restore text areas from Local Storage
        document.querySelectorAll("textarea").forEach((textarea) => {
          const storedJson = localStorage.getItem(textarea.id);
          if (storedJson) {
            try {
              const parsed = JSON.parse(storedJson);
              if (Date.now() - parsed.timestamp <= TWELVE_HOURS) {
                // If it's less than 12 hours old, restore the value
                textarea.value = parsed.value;
              } else {
                // Otherwise, ignore or remove the stale data
                console.log(
                  `Data for ${textarea.id} is older than 12 hours; not restoring.`
                );
                // Optionally remove from Local Storage:
                // localStorage.removeItem(textarea.id);
              }
            } catch (e) {
              console.warn(
                `Invalid JSON in localStorage for ${textarea.id}`,
                e
              );
            }
          }
        });

        // Restore table cells from Local Storage
        document
          .querySelectorAll("td[contenteditable=true]")
          .forEach((cell, index) => {
            const storedJson = localStorage.getItem(`cell-${index}`);
            if (storedJson) {
              try {
                const parsed = JSON.parse(storedJson);
                if (Date.now() - parsed.timestamp <= TWELVE_HOURS) {
                  cell.innerText = parsed.value;
                } else {
                  console.log(
                    `Data for cell-${index} is older than 12 hours; not restoring.`
                  );
                  // localStorage.removeItem(`cell-${index}`);
                }
              } catch (e) {
                console.warn(
                  `Invalid JSON in localStorage for cell-${index}`,
                  e
                );
              }
            }
          });

        // Close the overlay as before
        closeOverlay();
      }
      // Function to restore a static image to the specified container
      function restoreImage(containerId, imageSrc) {
        const container = document.getElementById(containerId);
        if (container) {
          const image = document.createElement("img");
          image.src = imageSrc; // Path to the static image
          image.style.maxWidth = "100%";
          container.innerHTML = ""; // Clear any previous content
          container.appendChild(image);
        } else {
          console.error(`Container ${containerId} not found.`);
        }
      }

      // Function to Clear All Images from IndexedDB and UI
      function clearAllImages() {
        openDB().then((db) => {
          const transaction = db.transaction("images", "readwrite");
          const store = transaction.objectStore("images");
          store.clear(); // Clears all images from IndexedDB

          // Remove images from UI
          const imageContainers = [
            "imageContainer1",
            "imageContainer2",
            "imageContainer3",
            "imageContainer4",
            "imageContainer5",
            "imageContainer6",

          ];

          imageContainers.forEach((containerId) => {
            const container = document.getElementById(containerId);
            if (container) {
              container.innerHTML = ""; // Clears the image display
            }
          });

          alert("All stored images have been cleared!");
        });
      }
    </script>
    <!-- Overlay for Password-Protected Actions -->
    <div id="passwordOverlay" class="overlay">
      <div class="overlay-content">
        <span class="close-btn" onclick="closeOverlay()">&times;</span>
        <h2>Restore Panel</h2>
        <p>Click a button below to place example images or restore data.</p>

        <button onclick="restoreImage('imageContainer1', 'secondary immune response model.jpeg')">
          Secondary Immune Response Model
        </button>
        <button onclick="restoreImage('imageContainer2', 'Albinism1.jpg')">
          ELISA model
        </button>
        <button onclick="restoreImage('imageContainer3', 'Klinefelter1.jpg')">  
          ELISA Assay
        </button>
        <button onclick="restoreImage('imageContainer4', 'Turner2.jpg')">
          Absorbance Values
        </button>
        <button onclick="restoreImage('imageContainer5', 'Albinism2.jpg')">
          Graph of Absorbance Values
        </button>        
        <button onclick="restoreImage('imageContainer6', 'Klinefelter2.jpg')">
          Growth plates
        </button>

        <button onclick="clearAllImages()">
          Clear All Images (DANGER-CANNOT UNDO)
        </button>

        <hr />
        <button onclick="restoreLocalStorageData()">Restore Data</button>
      </div>
    </div>

    <style>
      /* Overlay Styling */
      .overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        justify-content: center;
        align-items: center;
      }

      .overlay-content {
        background: white;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.3);
        width: 300px;
        position: relative;
      }

      .close-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 20px;
        cursor: pointer;
      }

      .overlay button {
        display: block;
        width: 100%;
        background: #007bff;
        color: white;
        padding: 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 10px;
      }

      .overlay hr {
        margin: 15px 0;
      }
      @media print {
  .sidebar {
    display: none !important;
  }
}
     
    </style>
  </body>
</html>
